# Docker Compose override for production environment using pre-built GHCR images
# This eliminates on-server builds and resolves disk space issues
#
# Usage in Coolify:
# 1. Set Docker Compose Location: /docker-compose.yml
# 2. Set Compose Path: infra/docker
# 3. Configure GitHub Container Registry authentication in Coolify
# 4. Deployments will pull pre-built images from GitHub Actions

version: '3.8'

services:
  frontend:
    image: ghcr.io/itsanona/gecko-advisor-frontend:latest
    build: null  # Disable build, use pre-built image
    pull_policy: always

  backend:
    image: ghcr.io/itsanona/gecko-advisor-backend:latest
    build: null  # Disable build, use pre-built image
    pull_policy: always

  worker:
    image: ghcr.io/itsanona/gecko-advisor-worker:latest
    build: null  # Disable build, use pre-built image
    pull_policy: always
