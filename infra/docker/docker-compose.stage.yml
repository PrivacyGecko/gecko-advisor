name: privacy-advisor-stage
services:
  backend:
    extends:
      file: ./docker-compose.yml
      service: backend
    env_file:
      - ./env/stage.env
    environment:
      APP_ENV: stage
      BASE_URL: ${BASE_URL:-https://stage.privamule.com}
      BACKEND_PUBLIC_URL: ${BACKEND_PUBLIC_URL:-https://stageapi.privamule.com}
      FRONTEND_PUBLIC_URL: ${FRONTEND_PUBLIC_URL:-https://stage.privamule.com}
      ADMIN_API_KEY: ${ADMIN_API_KEY:?Set stage ADMIN_API_KEY}
  worker:
    extends:
      file: ./docker-compose.yml
      service: worker
    env_file:
      - ./env/stage.env
    environment:
      APP_ENV: stage
      WORKER_PUBLIC_URL: ${WORKER_PUBLIC_URL:-https://sworker.privamule.com}
  frontend:
    extends:
      file: ./docker-compose.yml
      service: frontend
    env_file:
      - ./env/stage.env
    environment:
      APP_ENV: stage
      FRONTEND_PUBLIC_URL: ${FRONTEND_PUBLIC_URL:-https://stage.privamule.com}
      BACKEND_PUBLIC_URL: ${BACKEND_PUBLIC_URL:-https://stageapi.privamule.com}
volumes:
  privacy-postgres:
  privacy-redis:




